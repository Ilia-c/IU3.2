////////////////////////////////////////////////////
//               Статус переферии                 //
////////////////////////////////////////////////////
#include "Settings.h"
#include <time.h>
#include "RTC_data.h"
typedef struct
{
   uint16_t year;          //год     (xxxx)
   uint8_t month;          //месяц   (1-12)
   uint8_t day;            //день    (1-31)
   uint8_t hour;           //часы    (0-23)
   uint8_t min;            //минуты  (0-59)
   uint8_t sec;            //секунды (0-59)
  uint8_t dow;            //день недели 0 = воскресенье, 1 = понедельник, .... 6 = суббота.
} _type_datetime;


int time_update_display = 20000; // Время обновления экрана (для обновления времени и курсора)

// Температура, давление и влажность
float ADC_in_temp = 0;                  // Внутренняя температура микроконтроллера
float ADC_ADS1115_temp = 0;             // Температура на аналоговом датчике температуры
float OneWire_temp = 0;                 // Температура на датчике OneWire
float BMP280_Temp = 0;                  // Температура на BMP280
float BMP280_Humidity = 0;              // Влажность
float BMP280_pressure = 0;              // Давление воздуха

char char_ADC_in_temp [10] = "ND";                  // Внутренняя температура микроконтроллера в формате char
char char_ADC_ADS1115_temp [10] = "ND";             // Температура на аналоговом датчике температуры в формате char
char char_OneWire_temp [10] = "ND";                 // Температура на датчике OneWire в формате char
char char_BMP280_Temp [10] = "ND";                  // Температура на BMP280 в формате char
char char_BMP280_Humidity [10] = "ND";              // Влажность в формате char
char char_BMP280_pressure [10] = "ND";              // Давление воздуха в формате char

// Значение АЦП ADS1115 измеряемого значения датчика давления, Вольты и метры (датчик)
float ADC_Volts = 0;                    // Напряжение на токовом шунте
float ADC_Height = 0;                   // Глубина в метрах без коррекции
float ADC_Height_correct = 0;           // Глубина в метрах с корректировкой


// Значение Связи (регистрация в сети, уровень сигнала GSM, уровень сигнала (палочки), оператор)
int GSM_Signal = 0;                     // Код сигнала от самого модуля GSM (0-31)
int GSM_Signal_Level = -1;               // Уровень сигнала GSM для отображения на экране (0-3 черточки) -1 - нет регистрации   
char GSM_operator[10];                  // Название оператора MTS, bilene и т.д.

// Статус экрана (включен/выключен)
char display_status = 0;                // Статус экран (1- включен, 0 - выключен)

// Статус RS485
char RS485_status = 0;                  // Статус работы RS485 (1 - работает, 0 - нет)

// Нажатые клавиши на клавиатуре
char Keyboard_press_code = 0;           // Код нажатой клавиши на клавиатуре

// Нажатые клавиши на клавиатуре
int Display_update = 1;           // Обновлять или нет экран (0x00/0xFF)

// Статус акб и батарейки
float ADC_AKB_volts = 0;                //  Напряжение на аккумуляторе
int ADC_AKB_Proc = 0;                   //  Проценты заряда аккумулятора
int ADC_AKB_cell = 0;                   //  Ячейки заряда (0-3)




////////////////////////////////////////////////////
//            Настроечные параметры               //
////////////////////////////////////////////////////

// Дата и время
RTC_TimeTypeDef Time = {0};
RTC_DateTypeDef Date = {0};

char ID_board[10] = "TEST";
char ver_board[10] = "v3.25";
char ver_programm[10] = "0.2";

// изменяемые через выбор значения
int Mode = 0; // режим работы устройства  
int GSM_mode = 0; // режим работы GSM 0 - вкл, 1 - выкл 
int RS485_prot = 0; // протокол RS485 0 - выкл; 1 - Modbus, и т.д.
int units_mes = 0; // еденицы измерения 0-мм, 1 -метры
int screen_sever_mode = 1; // включить (0) начальную заставку или нет (1)
char len = 0x00;                 //  0 - русский язык;  1 -  английский

// изменяемые напрямую значения 

// настрйока времени сна
uint16_t time_sleep_h = 2; // время сна - часы
uint16_t time_sleep_m = 0; // время сна - минуты

uint16_t Timer_key_one_press = 50;            // Время задержки между переключением при одиночном нажатии
uint16_t Timer_key_press = 300;               // Время задержки между переключением при зажатии




